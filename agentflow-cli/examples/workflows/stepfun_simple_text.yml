# Simple OpenAI Text Generation Workflow
name: "OpenAI Simple Text Generation"
version: "1.0.0"
description: "A basic workflow that uses OpenAI models for text generation"
author: "AgentFlow Team"

metadata:
  created: "2024-01-15T00:00:00Z"
  tags: ["openai", "text-generation", "simple"]
  category: "example"

config:
  timeout: "5m"
  max_retries: 3
  output_format: "text"
  log_level: "info"

inputs:
  prompt:
    type: "string"
    required: true
    description: "The text prompt for generation"
    example: "Write a short story about a robot learning to paint"
  
  model:
    type: "string"
    required: false
    default: "gpt-4o"
    enum: ["gpt-4o", "gpt-4", "gpt-3.5-turbo", "gpt-4o-mini"]
    description: "OpenAI model to use for text generation"

  temperature:
    type: "number"
    required: false
    default: 0.7
    description: "Temperature for text generation (0.0-1.0)"

environment:
  OPENAI_API_KEY: "required"

workflow:
  type: "sequential"
  nodes:
    - name: "generate_text"
      type: "llm"
      description: "Generate creative text using OpenAI model"
      config:
        model: "{{ inputs.model }}"
        prompt: "{{ inputs.prompt }}"
        temperature: "{{ inputs.temperature }}"
        max_tokens: 500
        system: "You are a creative and helpful AI assistant. Generate engaging, well-structured content based on the user's request."
        timeout: "2m"
      outputs:
        response: "$.response"

outputs:
  generated_text:
    source: "{{ generate_text_response }}"
    format: "text"
    file: "output/generated_text.txt"
  
  execution_report:
    source: "$"
    format: "json"
    file: "output/execution_report.json"
    include:
      - execution_time
      - model_used
      - input_prompt