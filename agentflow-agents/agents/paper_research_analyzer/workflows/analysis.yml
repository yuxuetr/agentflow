# Paper Research Analysis Workflow Configuration
# This YAML file defines the workflow for PDF research paper analysis

name: "Paper Research Analysis"
version: "1.0.0"
description: "Comprehensive PDF research paper analysis with summarization, insights extraction, and translation"

# Workflow configuration
config:
  # Analysis depth options: summary, insights, comprehensive, translation
  analysis_depth: "comprehensive"
  
  # Target language for translation (if analysis_depth includes translation)
  target_language: "en"
  
  # Model configuration
  model: "step-2-16k"
  
  # Output options
  generate_mind_map: true
  
  # Batch processing options
  concurrency_limit: 3

# Node definitions (for future declarative workflow support)
nodes:
  - name: "pdf_parser"
    type: "pdf_parser"
    config:
      api_key: "${STEP_API_KEY}"
      
  - name: "summarizer"
    type: "summary_generator"
    dependencies: ["pdf_parser"]
    config:
      model: "${model}"
      
  - name: "insights_extractor"
    type: "insights_extractor"
    dependencies: ["pdf_parser"]
    config:
      model: "${model}"
      conditional: "${analysis_depth in [insights, comprehensive, translation]}"
      
  - name: "mind_mapper"
    type: "mind_map_generator"
    dependencies: ["insights_extractor"]
    config:
      model: "${model}"
      conditional: "${generate_mind_map && analysis_depth in [comprehensive, translation]}"
      
  - name: "translator"
    type: "translator"
    dependencies: ["summarizer"]
    config:
      model: "${model}"
      target_language: "${target_language}"
      conditional: "${analysis_depth == translation && target_language != 'en'}"
      
  - name: "results_compiler"
    type: "results_compiler"
    dependencies: ["summarizer", "insights_extractor", "mind_mapper", "translator"]
    config:
      analysis_depth: "${analysis_depth}"

# Output configuration
output:
  formats:
    - markdown
    - json
    - mermaid
  
  files:
    summary: "summary.md"
    insights: "key_insights.json"
    mind_map: "mind_map.mermaid"
    complete_analysis: "complete_analysis.json"

# Environment variables
env:
  required:
    - STEP_API_KEY
  optional:
    - OUTPUT_DIR: "./analysis_output"
    - LOG_LEVEL: "info"